
\usetikzlibrary{positioning,shapes.geometric,backgrounds}
\usetikzlibrary{fit}
\usetikzlibrary {shapes.misc}

\usetikzlibrary {shadows,shapes.symbols}

\definecolor{color1}{HTML}{007FFF} % Blue
\definecolor{color2}{HTML}{FF7F00} % Orange
\definecolor{color3}{HTML}{FFD700} % Yellow
\definecolor{color4}{HTML}{00FF00} % Green
\definecolor{color5}{HTML}{FF0000} % Red
\definecolor{color6}{HTML}{FFC0CB} % Pink


% Define shades of orange for similarity matrix
\definecolor{pshade1}{HTML}{FADCD9} % Lightest pink
\definecolor{pshade2}{HTML}{F5A9B8} % Light pink
\definecolor{pshade3}{HTML}{ff9ec2} % Medium pink
\definecolor{pshade4}{HTML}{F06292} % Strong pink
\definecolor{pshade5}{HTML}{E91E63} % Bold pink
\definecolor{pshade6}{HTML}{C2185B} % Darkest pink

% Define shades of orange for similarity matrix
\definecolor{shade1}{HTML}{FFEBCC} % Lightest orange
\definecolor{shade2}{HTML}{FFC266} % Light orange
\definecolor{shade3}{HTML}{FF9933} % Medium orange
\definecolor{shade4}{HTML}{FF6600} % Dark orange
\definecolor{shade5}{HTML}{CC5200} % Darker orange
\definecolor{shade6}{HTML}{993D00} % Darkest orange



\begin{frame}{AlphaFold}
\begin{tikzpicture}[remember picture,overlay,node distance=.1mm]
    \node[ minimum size=1mm] (orgs) at (-.05,-.25){};

    \visible<1->{
        %%%%%%%%% MSA representation%%%%%%%%%%%%%%%%%%5
         % Input Row
        
        \node[draw, fill=color4, minimum size=1mm, above=2cm of orgs] (msap1){};
        \foreach \i/\col/\k in {1/color6/2, 2/color3/3, 3/color2/4, 4/color5/5, 5/color1/6} {
            \node[draw, fill=\col, minimum size=1mm, right=.1mm of msap\i] (msap\k){};
        }

        %row1 color fill input
        \node[fill=pshade6, minimum size=1mm, below=.1mm of msap1] (ma1) {}; 
        \node[fill=pshade1, minimum size=1mm, right=.1mm of ma1](ma2) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of ma2](ma3){}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of ma3] (ma4){};
        \node[fill=pshade2, minimum size=1mm, right=.1mm of ma4] (ma5){}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of ma5] (ma6){}; 

        %row2 color fill 
        \node[fill=pshade6, minimum size=1mm,below=.1mm of ma1] (mb1) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of mb1] (mb2) {}; 
        \node[fill=pshade2, minimum size=1mm, right=.1mm of mb2] (mb3) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of mb3] (mb4) {};
        \node[fill=pshade6, minimum size=1mm, right=.1mm of mb4] (mb5) {}; 
        \node[fill=pshade5, minimum size=1mm, right=.1mm of mb5] (mb6) {}; 

         %row3 color fill
        \node[fill=pshade4, minimum size=1mm,below=.1mm of mb1] (mc1) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of mc1] (mc2) {}; 
        \node[fill=pshade1, minimum size=1mm, right=.1mm of mc2] (mc3) {}; 
        \node[fill=pshade2, minimum size=1mm, right=.1mm of mc3] (mc4) {};
        \node[fill=pshade5, minimum size=1mm, right=.1mm of mc4] (mc5) {}; 
        \node[fill=pshade1, minimum size=1mm, right=.1mm of mc5] (mc6) {};

         %row4 color fill
        \node[fill=pshade1, minimum size=1mm,below=.1mm of mc1] (md1) {}; 
        \node[fill=pshade2, minimum size=1mm, right=.1mm of md1] (md2) {}; 
        \node[fill=pshade6, minimum size=1mm, right=.1mm of md2] (md3) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of md3] (md4) {};
        \node[fill=pshade5, minimum size=1mm, right=.1mm of md4] (md5) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of md5](md6) {};

        %row5 color fill
        \node[fill=pshade6, minimum size=1mm,below=.1mm of md1] (me1) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of me1](me2)  {}; 
        \node[fill=pshade1, minimum size=1mm, right=.1mm of me2] (me3) {}; 
        \node[fill=pshade5, minimum size=1mm, right=.1mm of me3] (me4) {};
        \node[fill=pshade2, minimum size=1mm, right=.1mm of me4] (me5) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of me5](me6) {};

        %row6 color fill
        \node[fill=pshade1, minimum size=1mm,below=.1mm of me1] (mf1) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of mf1] (mf2) {}; 
        \node[fill=pshade6, minimum size=1mm, right=.1mm of mf2] (mf3) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of mf3] (mf4){};
        \node[fill=pshade5, minimum size=1mm, right=.1mm of mf4](mf5) {}; 
        \node[fill=pshade6, minimum size=1mm, right=.1mm of mf5] (mf6){};

        %label
        \node [left=.15mm of msap1,font=\tiny] {\textbf{Input}};
        \node [left=.15mm of ma1,font=\tiny] {\textbf{Input}};
        \foreach \i/\col in {b/A, c/B, d/C, e/D, f/E} {
            \node[left=.15mm of m\i1,font=\tiny](lmp\col){\textbf{\col}};
        }
        \node [above=.1mm of orgs,font=\tiny, xshift=5.3mm, yshift=-3mm] {\textbf{MSA representation}};
        
        %%%%%%%% pair representation%%%%%%%%%%%%%%%%%%5
        \node[draw, fill=color4, minimum size=1mm, below=.7cm of orgs] (pr1){};
        \foreach \i/\col/\k in {1/color6/2, 2/color3/3, 3/color2/4, 4/color5/5, 5/color1/6} {
            \node[draw, fill=\col, minimum size=1mm, right=.1mm of pr\i] (pr\k){};
        }

        %row1 color fill input
        \node[fill=shade6, minimum size=1mm, below=.1mm of pr1] (pa1) {}; 
        \node[fill=shade1, minimum size=1mm, right=.1mm of pa1](pa2) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of pa2](pa3){}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of pa3] (pa4){};
        \node[fill=shade2, minimum size=1mm, right=.1mm of pa4] (pa5){}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of pa5] (pa6){}; 

        %row2 color fill 
        \node[fill=shade6, minimum size=1mm,below=.1mm of pa1] (pb1) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of pb1] (pb2) {}; 
        \node[fill=shade2, minimum size=1mm, right=.1mm of pb2] (pb3) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of pb3] (pb4) {};
        \node[fill=shade6, minimum size=1mm, right=.1mm of pb4] (pb5) {}; 
        \node[fill=shade5, minimum size=1mm, right=.1mm of pb5] (pb6) {}; 

         %row3 color fill
        \node[fill=shade4, minimum size=1mm,below=.1mm of pb1] (pc1) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of pc1] (pc2) {}; 
        \node[fill=shade1, minimum size=1mm, right=.1mm of pc2] (pc3) {}; 
        \node[fill=shade2, minimum size=1mm, right=.1mm of pc3] (pc4) {};
        \node[fill=shade5, minimum size=1mm, right=.1mm of pc4] (pc5) {}; 
        \node[fill=shade1, minimum size=1mm, right=.1mm of pc5] (pc6) {};

         %row4 color fill
        \node[fill=shade1, minimum size=1mm,below=.1mm of pc1] (pd1) {}; 
        \node[fill=shade2, minimum size=1mm, right=.1mm of pd1] (pd2) {}; 
        \node[fill=shade6, minimum size=1mm, right=.1mm of pd2] (pd3) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of pd3] (pd4) {};
        \node[fill=shade5, minimum size=1mm, right=.1mm of pd4] (pd5) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of pd5](pd6) {};

        %row5 color fill
        \node[fill=shade6, minimum size=1mm,below=.1mm of pd1] (pe1) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of pe1](pe2)  {}; 
        \node[fill=shade1, minimum size=1mm, right=.1mm of pe2] (pe3) {}; 
        \node[fill=shade5, minimum size=1mm, right=.1mm of pe3] (pe4) {};
        \node[fill=shade2, minimum size=1mm, right=.1mm of pe4] (pe5) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of pe5](pe6) {};

        %row6 color fill
        \node[fill=shade1, minimum size=1mm,below=.1mm of pe1] (pf1) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of pf1] (pf2) {}; 
        \node[fill=shade6, minimum size=1mm, right=.1mm of pf2] (pf3) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of pf3] (pf4){};
        \node[fill=shade5, minimum size=1mm, right=.1mm of pf4](pf5) {}; 
        \node[fill=shade6, minimum size=1mm, right=.1mm of pf5] (pf6){};

        %column input row on the left
        \node[draw, fill=color4, minimum size=1mm, left=.1mm of pa1] (pr10){};
        \foreach \i/\col/\k in {10/color6/20, 20/color3/30, 30/color2/40, 40/color5/50, 50/color1/60} {
            \node[draw, fill=\col, minimum size=1mm, below=.1mm of pr\i] (pr\k){};
        }
        %label of pair alignment
        \node (lpr) [ rotate=90,left=1mm of pr20, font=\tiny] {Input};
        \node () [above=.1mm of pr3, font=\tiny] {Input};

        \node [below=1.5mm of pr60,font=\tiny, xshift=.8cm] {\textbf{Pair representation}};

    }

    
    \visible<2-6>{
        %%%%%%%%%%%%%%%% evoformer%%%%%%%%%%%%%%%%
        \node[rounded corners,
        double copy shadow={opacity=.5,shadow xshift=1ex,shadow yshift=1ex, left color=blue!20, right color=blue!60},
        draw=blue, left color=blue!20, right color=blue!60, align=center
        ,minimum height=5.7cm, 
        font=\fontsize{8pt}{10pt}\selectfont, 
        right=2.2cm of orgs, yshift=-.2cm]
        (evoformer){\textbf{Evoformer}\\ \\ 48 blocks};
    }

     \only<7->{
        %%%%%%%%%%%%%%%% evoformer%%%%%%%%%%%%%%%%
        \node[rounded corners,
        double copy shadow={opacity=.5,shadow xshift=1ex,shadow yshift=1ex, left color=blue!20, right color=blue!60},
        draw=blue, left color=cyan!30, right color=blue!60, align=center
        ,minimum height=5.7cm, 
        font=\fontsize{8pt}{10pt}\selectfont, 
        right=2.2cm of orgs, yshift=-.2cm]
        (evoformer){\textbf{Evoformer}\\ \\ 48 blocks};
    }

     \visible<3->{
        %%%%%%%%% MSA representation%%%%%%%%%%%%%%%%%%5
         % Input Row
        
        \node[draw, fill=color4, minimum size=1mm, right=3.8cm of msap6] (xmsap1){};
        \foreach \i/\col/\k in {1/color6/2, 2/color3/3, 3/color2/4, 4/color5/5, 5/color1/6} {
            \node[draw, fill=\col, minimum size=1mm, right=.1mm of xmsap\i] (xmsap\k){};
        }

        %row1 color fill input
        \node[fill=pshade6, minimum size=1mm, below=.1mm of xmsap1] (xma1) {}; 
        \node[fill=pshade1, minimum size=1mm, right=.1mm of xma1](xma2) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of xma2](xma3){}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of xma3] (xma4){};
        \node[fill=pshade2, minimum size=1mm, right=.1mm of xma4] (xma5){}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of xma5] (xma6){}; 

        %row2 color fill 
        \node[fill=pshade6, minimum size=1mm,below=.1mm of xma1] (xmb1) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of xmb1] (xmb2) {}; 
        \node[fill=pshade2, minimum size=1mm, right=.1mm of xmb2] (xmb3) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of xmb3] (xmb4) {};
        \node[fill=pshade6, minimum size=1mm, right=.1mm of xmb4] (xmb5) {}; 
        \node[fill=pshade5, minimum size=1mm, right=.1mm of xmb5] (xmb6) {}; 

         %row3 color fill
        \node[fill=pshade4, minimum size=1mm,below=.1mm of xmb1] (xmc1) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of xmc1] (xmc2) {}; 
        \node[fill=pshade1, minimum size=1mm, right=.1mm of xmc2] (xmc3) {}; 
        \node[fill=pshade2, minimum size=1mm, right=.1mm of xmc3] (xmc4) {};
        \node[fill=pshade5, minimum size=1mm, right=.1mm of xmc4] (xmc5) {}; 
        \node[fill=pshade1, minimum size=1mm, right=.1mm of xmc5] (xmc6) {};

         %row4 color fill
        \node[fill=pshade1, minimum size=1mm,below=.1mm of xmc1] (xmd1) {}; 
        \node[fill=pshade2, minimum size=1mm, right=.1mm of xmd1] (xmd2) {}; 
        \node[fill=pshade6, minimum size=1mm, right=.1mm of xmd2] (xmd3) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of xmd3] (xmd4) {};
        \node[fill=pshade5, minimum size=1mm, right=.1mm of xmd4] (xmd5) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of xmd5](xmd6) {};

        %row5 color fill
        \node[fill=pshade6, minimum size=1mm,below=.1mm of xmd1] (xme1) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of xme1](xme2)  {}; 
        \node[fill=pshade1, minimum size=1mm, right=.1mm of xme2] (xme3) {}; 
        \node[fill=pshade5, minimum size=1mm, right=.1mm of xme3] (xme4) {};
        \node[fill=pshade2, minimum size=1mm, right=.1mm of xme4] (xme5) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of xme5](xme6) {};

        %row6 color fill
        \node[fill=pshade1, minimum size=1mm,below=.1mm of xme1] (xmf1) {}; 
        \node[fill=pshade4, minimum size=1mm, right=.1mm of xmf1] (xmf2) {}; 
        \node[fill=pshade6, minimum size=1mm, right=.1mm of xmf2] (xmf3) {}; 
        \node[fill=pshade3, minimum size=1mm, right=.1mm of xmf3] (xmf4){};
        \node[fill=pshade5, minimum size=1mm, right=.1mm of xmf4](xmf5) {}; 
        \node[fill=pshade6, minimum size=1mm, right=.1mm of xmf5] (xmf6){};

        %label
        \node [left=.15mm of xmsap1,font=\tiny] {\textbf{Input}};
        \node [left=.15mm of xma1,font=\tiny] {\textbf{Input}};
        \foreach \i/\col in {b/A, c/B, d/C, e/D, f/E} {
            \node[left=.15mm of xm\i1,font=\tiny](xlmp\col){\textbf{\col}};
        }

        \node [below=1.5mm of xlmpE,font=\tiny, xshift=.8cm] {\textbf{MSA representation}};

        %%%%%%%% pair representation%%%%%%%%%%%%%%%%%%5
        \node[draw, fill=color4, minimum size=1mm, right=3.8cm of pr6] (xpr1){};
        \foreach \i/\col/\k in {1/color6/2, 2/color3/3, 3/color2/4, 4/color5/5, 5/color1/6} {
            \node[draw, fill=\col, minimum size=1mm, right=.1mm of xpr\i] (xpr\k){};
        }

        %row1 color fill input
        \node[fill=shade6, minimum size=1mm, below=.1mm of xpr1] (xpa1) {}; 
        \node[fill=shade1, minimum size=1mm, right=.1mm of xpa1](xpa2) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of xpa2](xpa3){}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of xpa3] (xpa4){};
        \node[fill=shade2, minimum size=1mm, right=.1mm of xpa4] (xpa5){}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of xpa5] (xpa6){}; 

        %row2 color fill 
        \node[fill=shade6, minimum size=1mm,below=.1mm of xpa1] (xpb1) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of xpb1] (xpb2) {}; 
        \node[fill=shade2, minimum size=1mm, right=.1mm of xpb2] (xpb3) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of xpb3] (xpb4) {};
        \node[fill=shade6, minimum size=1mm, right=.1mm of xpb4] (xpb5) {}; 
        \node[fill=shade5, minimum size=1mm, right=.1mm of xpb5] (xpb6) {}; 

         %row3 color fill
        \node[fill=shade4, minimum size=1mm,below=.1mm of xpb1] (xpc1) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of xpc1] (xpc2) {}; 
        \node[fill=shade1, minimum size=1mm, right=.1mm of xpc2] (xpc3) {}; 
        \node[fill=shade2, minimum size=1mm, right=.1mm of xpc3] (xpc4) {};
        \node[fill=shade5, minimum size=1mm, right=.1mm of xpc4] (xpc5) {}; 
        \node[fill=shade1, minimum size=1mm, right=.1mm of xpc5] (xpc6) {};

         %row4 color fill
        \node[fill=shade1, minimum size=1mm,below=.1mm of xpc1] (xpd1) {}; 
        \node[fill=shade2, minimum size=1mm, right=.1mm of xpd1] (xpd2) {}; 
        \node[fill=shade6, minimum size=1mm, right=.1mm of xpd2] (xpd3) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of xpd3] (xpd4) {};
        \node[fill=shade5, minimum size=1mm, right=.1mm of xpd4] (xpd5) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of xpd5](xpd6) {};

        %row5 color fill
        \node[fill=shade6, minimum size=1mm,below=.1mm of xpd1] (xpe1) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of xpe1](xpe2)  {}; 
        \node[fill=shade1, minimum size=1mm, right=.1mm of xpe2] (xpe3) {}; 
        \node[fill=shade5, minimum size=1mm, right=.1mm of xpe3] (xpe4) {};
        \node[fill=shade2, minimum size=1mm, right=.1mm of xpe4] (xpe5) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of xpe5](xpe6) {};

        %row6 color fill
        \node[fill=shade1, minimum size=1mm,below=.1mm of xpe1] (xpf1) {}; 
        \node[fill=shade4, minimum size=1mm, right=.1mm of xpf1] (xpf2) {}; 
        \node[fill=shade6, minimum size=1mm, right=.1mm of xpf2] (xpf3) {}; 
        \node[fill=shade3, minimum size=1mm, right=.1mm of xpf3] (xpf4){};
        \node[fill=shade5, minimum size=1mm, right=.1mm of xpf4](xpf5) {}; 
        \node[fill=shade6, minimum size=1mm, right=.1mm of xpf5] (xpf6){};

        %column input row on the left
        \node[draw, fill=color4, minimum size=1mm, left=.1mm of xpa1] (xpr10){};
        \foreach \i/\col/\k in {10/color6/20, 20/color3/30, 30/color2/40, 40/color5/50, 50/color1/60} {
            \node[draw, fill=\col, minimum size=1mm, below=.1mm of xpr\i] (xpr\k){};
        }
        %label of pair alignment
        \node (xlpr) [ rotate=90,left=1mm of xpr20, font=\tiny] {Input};
        \node () [above=.1mm of xpr3, font=\tiny] {Input};

        \node [below=1.5mm of xpr60,font=\tiny, xshift=.8cm] {\textbf{Pair representation}};
    }

     \visible<4-7>{
        %%%%%%%%%%%%%%%% structure module%%%%%%%%%%%%%%%%
        \node[rounded corners,
        double copy shadow={opacity=.5,shadow xshift=.5ex,shadow yshift=.5ex, left color=blue!20, right color=blue!50},
        draw=blue, left color=blue!20, right color=blue!50, align=center
        ,minimum height=5.7cm, 
        font=\tiny, 
        right=7.5cm of orgs, yshift=-.2cm]
        (sm){\textbf{Structure}\\ \textbf{module}\\ \\8 blocks};
    }

    \only<8->{
        %%%%%%%%%%%%%%%% structure module%%%%%%%%%%%%%%%%
        \node[rounded corners,
        double copy shadow={opacity=.5,shadow xshift=.5ex,shadow yshift=.5ex, left color=blue!20, right color=blue!50},
        draw=blue, left color=cyan!30, right color=blue!50, align=center
        ,minimum height=5.7cm, 
        font=\tiny, 
        right=7.5cm of orgs, yshift=-.2cm]
        (sm){\textbf{Structure}\\ \textbf{module}\\ \\8 blocks};
    }

     \visible<5-8>{
        %%%%%%%%%%%%%%%%%%protein%%%%%%%%%%%%%%%%%%%
         % Define the image inside a circular node
        \node[circle,,circular glow,outer color=blue!30,inner color=white, right=9.4cm of orgs, inner sep=0pt] (img) 
        {\includegraphics[width=1.6cm, angle=-90]{images/protein.png}}; 
        \node [below=2mm of img,font=\tiny, align=center] {\textbf{Initial}\\ \textbf{protein}\\ \textbf{structure}};
    }

    \only<9->{
        %%%%%%%%%%%%%%%%%%protein%%%%%%%%%%%%%%%%%%%
         % Define the image inside a circular node
        \node[circle,,circular glow,outer color=cyan!50,inner color=white, right=9.4cm of orgs, inner sep=0pt] (img) 
        {\includegraphics[width=1.6cm, angle=-90]{images/protein.png}}; 
        \node [below=2mm of img,font=\tiny, align=center] {\textbf{Predicted}\\ \textbf{protein}\\ \textbf{structure}};
    }
        % % Add a label below the circle
        % \node[below of=imageNode] (label) {This is the image};

        %%%%%%%%%%%%%%%%%%arrows
        \visible<2->{
             \draw [->] (mc6.east) to  ([yshift=46pt]evoformer.west);
             \draw [->] (pc6.east) to  ([yshift=-46pt]evoformer.west);
         }

         \visible<3->{
            \draw [->] ([yshift=46pt]evoformer.east) to  (xlmpB.west);
            \draw [->] ([yshift=-48pt]evoformer.east) to  (xlpr.north);
         } 
       
         \visible<4->{
            \draw [->] (xmc6.east) to  ([yshift=46pt]sm.west);
            \draw [->] (xpc6.east) to  ([yshift=-46pt]sm.west);
         }

         \visible<5->{
            \draw [->] ([yshift=6pt]sm.east) to  (img.west);
         }
        
         \visible<6-8>{
            \draw [->] (img.south) to [out=-115, in=-30] (pf3.south);
            \draw [->] (img.north) to [out=115, in=30] (msap3.north);
         }

        
        
        

\end{tikzpicture}
\end{frame}
        